<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Battle City - Ultimate Version</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="game-container">
        <canvas id="gameCanvas" width="832" height="832"></canvas>
        <button class="mute-btn" onclick="game.soundManager.toggleMute()">üîä</button>
        <div class="ui">
            <div class="score">–û—á–∫–∏: <span id="score">0</span></div>
            <div class="lives">–ñ–∏–∑–Ω–∏: <span id="lives">3</span></div>
            <div class="level">–£—Ä–æ–≤–µ–Ω—å: <span id="level">1</span></div>
            <div class="tank-counter">–¢–∞–Ω–∫–∏: <span id="tanksLeft">20</span>/20</div>
        </div>

        <!-- –î–û–ë–ê–í–õ–Ø–ï–ú –ù–û–í–´–ï –ò–ù–î–ò–ö–ê–¢–û–†–´ -->
        <div class="status-indicators">
            <div class="invincibility-indicator" id="invincibilityIndicator">
                üõ°Ô∏è –ù–µ—É—è–∑–≤–∏–º–æ—Å—Ç—å: <span id="invincibilityTime">0.0</span>—Å
            </div>
            <div class="fortify-indicator" id="fortifyIndicator">
                üè∞ –£–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –±–∞–∑—ã: <span id="fortifyTime">0.0</span>—Å
            </div>
        </div>

        <div class="controls">
            <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: WASD/–°—Ç—Ä–µ–ª–∫–∏ - –¥–≤–∏–∂–µ–Ω–∏–µ, Space/Enter - —Å—Ç—Ä–µ–ª—å–±–∞</p>
        </div>
        <div class="debug" id="debugInfo"></div>

        <div class="shield-indicator" id="shieldIndicator">–©–∏—Ç: <span id="shieldTime">5.0</span>—Å</div>
        <div class="spawn-notification" id="spawnNotification">–ü–æ—è–≤–ª–µ–Ω–∏–µ —Ç–∞–Ω–∫–∞!</div>

        <div class="level-complete" id="levelComplete">
            <h2>–£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω!</h2>
            <p>–¢–∞–Ω–∫–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω—ã: <span id="destroyedTanks">0</span>/20</p>
            <p>–û—á–∫–∏: <span id="levelScore">0</span></p>
            <button class="next-level-btn" onclick="game.nextLevel()">–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å</button>
        </div>

        <div class="game-over" id="gameOver">
            <h2>–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!</h2>
            <p>–í–∞—à —Å—á–µ—Ç: <span id="finalScore">0</span></p>
            <p>–£—Ä–æ–≤–µ–Ω—å: <span id="finalLevel">1</span></p>
            <button class="restart-btn" onclick="game.restartGame()">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
        </div>

        <div id="leaderboard" class="ui-panel">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h3>üèÜ –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤</h3>
                <div>
                    <button id="toggleLeaderboard" style="background: #444; border: none; color: white; padding: 2px 6px; border-radius: 3px; cursor: pointer; margin-right: 5px;" title="–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö">üìä</button>
                    <button id="resetLeaderboard" style="background: #ff4444; border: none; color: white; padding: 2px 6px; border-radius: 3px; cursor: pointer;" title="–°–±—Ä–æ—Å–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É">üóëÔ∏è</button>
                </div>
            </div>
            <div id="leaderboardEntries">
                <!-- –∑–∞–ø–∏—Å–∏ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
            </div>
        </div>

        <div class="status-indicators">
            <div class="invincibility-indicator" id="invincibilityIndicator">
                üõ°Ô∏è –ù–µ—É—è–∑–≤–∏–º–æ—Å—Ç—å: <span id="invincibilityTime">0.0</span>—Å
            </div>
            <div class="fortify-indicator" id="fortifyIndicator">
                üè∞ –£–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –±–∞–∑—ã: <span id="fortifyTime">0.0</span>—Å
            </div>
            <!-- –ù–û–í–´–ô –ò–ù–î–ò–ö–ê–¢–û–† -->
            <div class="autoaim-indicator" id="autoaimIndicator">
                üéØ –ê–≤—Ç–æ–Ω–∞–≤–µ–¥–µ–Ω–∏–µ: <span id="autoaimTime">0.0</span>—Å
            </div>
        </div>

        <!-- –î–æ–±–∞–≤—å —ç—Ç–æ—Ç –∫–æ–¥ –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã–≤–∞—é—â–∏–º —Ç–µ–≥–æ–º </body> -->
        <div id="debugPanel" style="position: fixed; top: 10px; right: 10px; background: rgba(0,0,0,0.8); padding: 15px; border-radius: 10px; color: white; font-family: Arial; z-index: 1000; display: none;">
            <h3 style="margin: 0 0 10px 0; color: #ffcc00;">üéÆ –¢–µ—Å—Ç –±–æ–Ω—É—Å–æ–≤</h3>

            <div style="margin-bottom: 10px;">
                <strong>–ò–≥—Ä–æ–∫:</strong>
                <button onclick="game.debugAddBonus('SHIELD')">üõ°Ô∏è –©–∏—Ç</button>
                <button onclick="game.debugAddBonus('INVINCIBILITY')">‚≠ê –ù–µ—É—è–∑–≤–∏–º–æ—Å—Ç—å</button>
                <button onclick="game.debugAddBonus('AUTO_AIM')">üéØ –ê–≤—Ç–æ–Ω–∞–≤–µ–¥–µ–Ω–∏–µ</button>
                <button onclick="game.debugAddBonus('FORTIFY')">üè∞ –£–∫—Ä–µ–ø–∏—Ç—å –±–∞–∑—É</button>
            </div>

            <div style="margin-bottom: 10px;">
                <strong>–í—Ä–∞–≥–∏:</strong>
                <button onclick="game.debugSpawnEnemyWithBonus('BASIC')">üî¥ –ë–∞–∑–æ–≤—ã–π + –±–æ–Ω—É—Å</button>
                <button onclick="game.debugSpawnEnemyWithBonus('FAST')">üü° –ë—ã—Å—Ç—Ä—ã–π + –±–æ–Ω—É—Å</button>
                <button onclick="game.debugSpawnEnemyWithBonus('HEAVY')">üü£ –¢—è–∂–µ–ª—ã–π + –±–æ–Ω—É—Å</button>
            </div>

            <div>
                <strong>–î—Ä—É–≥–æ–µ:</strong>
                <button onclick="game.debugAddLife()">‚ù§Ô∏è +1 –∂–∏–∑–Ω—å</button>
                <button onclick="game.debugTogglePanel()">‚ùå –ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>

        <!-- –ö–ª–∞–≤–∏—à–∞ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è –ø–∞–Ω–µ–ª–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, F2) -->
        <script>
        document.addEventListener('keydown', (e) => {
            if (e.code === 'F2' && typeof game !== 'undefined') {
                game.debugTogglePanel();
                e.preventDefault();
            }
        });
        </script>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –º–æ–¥—É–ª–∏ -->
    <script src="js/vector2.js"></script>
    <script src="js/rectangle.js"></script>
    <script src="js/constants.js"></script>
    <script src="js/sounds.js"></script>
    <script src="js/effects.js"></script>
    <script src="js/brick-effect.js"></script>
    <script src="js/bullet.js"></script>
    <script src="js/tank.js"></script>
    <script src="js/map.js"></script>
    <script src="js/bonus.js"></script> <!-- –ù–û–í–´–ô –§–ê–ô–õ -->
    <script src="js/game.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
