<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Battle City - Ultimate Version</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="game-container">
        <!-- –û—Å–Ω–æ–≤–Ω–æ–π canvas -->
        <canvas id="gameCanvas" width="832" height="832"></canvas>

        <!-- –ö–Ω–æ–ø–∫–∞ –∑–≤—É–∫–∞ -->
        <button class="mute-btn" onclick="game.soundManager.toggleMute()">üîä</button>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π UI -->
        <div class="ui">
            <div class="score">üéØ –û—á–∫–∏: <span id="score">0</span></div>
            <div class="lives">‚ù§Ô∏è –ñ–∏–∑–Ω–∏: <span id="lives">3</span></div>
            <div class="level">üöÄ –£—Ä–æ–≤–µ–Ω—å: <span id="level">1</span></div>
            <div class="tank-counter">üéØ –¢–∞–Ω–∫–∏: <span id="tanksLeft">20</span>/20</div>

            <div class="player-stats">
                <div class="player-level">‚≠ê –£—Ä.<span id="playerLevel">1</span></div>
                <div class="player-exp">üìä <span id="playerExp">0/50</span></div>
                <button class="reset-progress-btn" onclick="game.resetPlayerProgress()" title="–°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å">üîÑ</button>
            </div>
        </div>

        <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å—Ç–∞—Ç—É—Å–æ–≤ -->
        <div class="status-indicators">
            <div class="shield-indicator" id="shieldIndicator">üõ°Ô∏è –©–∏—Ç: <span id="shieldTime">0.0</span>—Å</div>
            <div class="invincibility-indicator" id="invincibilityIndicator">‚ú® –ù–µ—É—è–∑–≤–∏–º–æ—Å—Ç—å: <span id="invincibilityTime">0.0</span>—Å</div>
            <div class="fortify-indicator" id="fortifyIndicator">üè∞ –£–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –±–∞–∑—ã: <span id="fortifyTime">0.0</span>—Å</div>
            <div class="autoaim-indicator" id="autoaimIndicator">üéØ –ê–≤—Ç–æ–Ω–∞–≤–µ–¥–µ–Ω–∏–µ: <span id="autoaimTime">0.0</span>—Å</div>
        </div>

        <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
        <div class="spawn-notification" id="spawnNotification">–ü–æ—è–≤–ª–µ–Ω–∏–µ —Ç–∞–Ω–∫–∞!</div>

        <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ -->
        <div class="controls">
            <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: WASD/–°—Ç—Ä–µ–ª–∫–∏ - –¥–≤–∏–∂–µ–Ω–∏–µ, Space/Enter - —Å—Ç—Ä–µ–ª—å–±–∞</p>
        </div>

        <!-- –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
        <div class="debug" id="debugInfo"></div>

        <!-- –≠–∫—Ä–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è -->
        <div class="level-complete" id="levelComplete">
            <div class="level-complete-header">
                <h2>–£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω!</h2>
                <button class="close-stats-btn" onclick="game.closeLevelStats()">√ó</button>
            </div>
            <div class="level-basic-info">
                <p>–¢–∞–Ω–∫–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω—ã: <span id="destroyedTanks">0</span>/20</p>
                <p>–û—á–∫–∏: <span id="levelScore">0</span></p>
            </div>
            <div class="level-leader-stats" id="levelLeaderStats">
                <div class="leader-header">
                    <h3>ü•á –õ–∏–¥–µ—Ä —É—Ä–æ–≤–Ω—è</h3>
                </div>
                <div class="leader-content" id="leaderContent">
                    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω Game Over -->
        <div class="game-over" id="gameOver">
            <div class="game-over-header">
                <h2>üíÄ –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!</h2>
            </div>

            <div class="game-over-content">
                <div class="game-over-stats">
                    <div class="stat-item">
                        <span class="stat-label">üèÜ –í–∞—à —Å—á–µ—Ç:</span>
                        <span class="stat-value" id="finalScore">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">üöÄ –î–æ—Å—Ç–∏–≥–Ω—É—Ç —É—Ä–æ–≤–µ–Ω—å:</span>
                        <span class="stat-value" id="finalLevel">1</span>
                    </div>
                </div>

                <!-- –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –∏—Å–ø–æ–ª—å–∑—É–µ–º –£–ù–ò–ö–ê–õ–¨–ù–´–ï ID –¥–ª—è Game Over -->
                <div class="game-over-leader-stats" id="gameOverLeaderStats">
                    <div class="leader-header">
                        <h3 id="gameOverLeaderTitle">ü•á –õ–∏–¥–µ—Ä —ç—Ç–æ–≥–æ —Ä–∞—É–Ω–¥–∞</h3>
                    </div>
                    <div class="leader-content" id="gameOverLeaderContent">
                        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
                    </div>
                </div>

                <div class="game-over-actions">
                    <button class="restart-btn" onclick="game.restartGame()">üéÆ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
                </div>
            </div>
        </div>

        <!-- –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤ -->
        <div id="leaderboard" class="ui-panel">
            <div class="leaderboard-header">
                <h3>üèÜ –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤</h3>
                <div class="leaderboard-controls">
                    <button id="toggleLeaderboard" title="–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö">üìä</button>
                    <button id="resetLeaderboard" title="–°–±—Ä–æ—Å–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É">üóëÔ∏è</button>
                </div>
            </div>
            <div id="leaderboardEntries">
                <!-- –ó–∞–ø–∏—Å–∏ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
            </div>
        </div>

        <!-- –î–µ–±–∞–≥ –ø–∞–Ω–µ–ª—å -->
        <div id="debugPanel" class="debug-panel">
            <h3>üéÆ –¢–µ—Å—Ç –±–æ–Ω—É—Å–æ–≤</h3>
            <div class="debug-section">
                <strong>–ò–≥—Ä–æ–∫:</strong>
                <button onclick="game.debugAddBonus('SHIELD')">üõ°Ô∏è –©–∏—Ç</button>
                <button onclick="game.debugAddBonus('INVINCIBILITY')">‚ú® –ù–µ—É—è–∑–≤–∏–º–æ—Å—Ç—å</button>
                <button onclick="game.debugAddBonus('AUTO_AIM')">üéØ –ê–≤—Ç–æ–Ω–∞–≤–µ–¥–µ–Ω–∏–µ</button>
                <button onclick="game.debugAddBonus('FORTIFY')">üè∞ –£–∫—Ä–µ–ø–∏—Ç—å –±–∞–∑—É</button>
                <button onclick="game.debugAddBonus('TIME_STOP')">‚è∞ –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Ä–µ–º–µ–Ω–∏</button>
            </div>
            <div class="debug-section">
                <strong>–í—Ä–∞–≥–∏:</strong>
                <button onclick="game.debugSpawnEnemyWithBonus('BASIC')">üî¥ –ë–∞–∑–æ–≤—ã–π + –±–æ–Ω—É—Å</button>
                <button onclick="game.debugSpawnEnemyWithBonus('FAST')">üü° –ë—ã—Å—Ç—Ä—ã–π + –±–æ–Ω—É—Å</button>
                <button onclick="game.debugSpawnEnemyWithBonus('HEAVY')">üü£ –¢—è–∂–µ–ª—ã–π + –±–æ–Ω—É—Å</button>
                <button onclick="game.debugSpawnEnemyWithBonus('SNIPER')">üü¢ –°–Ω–∞–π–ø–µ—Ä —Å –±–æ–Ω—É—Å–æ–º</button>
            </div>
            <div class="debug-section">
                <strong>–î—Ä—É–≥–æ–µ:</strong>
                <button onclick="game.debugAddLife()">‚ù§Ô∏è +1 –∂–∏–∑–Ω—å</button>
                <button onclick="game.debugTogglePanel()">‚ùå –ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ -->
    <script src="js/vector2.js"></script>
    <script src="js/rectangle.js"></script>
    <script src="js/constants.js"></script>
    <script src="js/teleport.js"></script>
    <script src="js/stream-interaction.js"></script>
    <script src="js/managers.js"></script>
    <script src="js/sounds.js"></script>
    <script src="js/effects.js"></script>
    <script src="js/brick-effect.js"></script>
    <script src="js/bullet.js"></script>
    <script src="js/enemy-ai.js"></script>
    <script src="js/tank.js"></script>
    <script src="js/map.js"></script>
    <script src="js/bonus.js"></script>
    <script src="js/game.js"></script>
    <script src="js/main.js"></script>


    <script>
    // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
    document.addEventListener('keydown', (e) => {
        if (e.code === 'F2' && typeof game !== 'undefined') {
            game.debugTogglePanel();
            e.preventDefault();
        }
    });
    </script>
</body>
</html>
